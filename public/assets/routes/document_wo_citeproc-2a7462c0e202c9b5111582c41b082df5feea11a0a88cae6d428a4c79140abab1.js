define("routes/document_wo_citeproc",function(){});var Lorem;!function(){Lorem=function(){this.type=null,this.query=null,this.data=null},Lorem.IMAGE=1,Lorem.TEXT=2,Lorem.TYPE={PARAGRAPH:1,SENTENCE:2,WORD:3},Lorem.WORDS=["lorem","ipsum","dolor","sit","amet,","consectetur","adipiscing","elit","ut","aliquam,","purus","sit","amet","luctus","venenatis,","lectus","magna","fringilla","urna,","porttitor","rhoncus","dolor","purus","non","enim","praesent","elementum","facilisis","leo,","vel","fringilla","est","ullamcorper","eget","nulla","facilisi","etiam","dignissim","diam","quis","enim","lobortis","scelerisque","fermentum","dui","faucibus","in","ornare","quam","viverra","orci","sagittis","eu","volutpat","odio","facilisis","mauris","sit","amet","massa","vitae","tortor","condimentum","lacinia","quis","vel","eros","donec","ac","odio","tempor","orci","dapibus","ultrices","in","iaculis","nunc","sed","augue","lacus,","viverra","vitae","congue","eu,","consequat","ac","felis","donec","et","odio","pellentesque","diam","volutpat","commodo","sed","egestas","egestas","fringilla","phasellus","faucibus","scelerisque","eleifend","donec","pretium","vulputate","sapien","nec","sagittis","aliquam","malesuada","bibendum","arcu","vitae","elementum","curabitur","vitae","nunc","sed","velit","dignissim","sodales","ut","eu","sem","integer","vitae","justo","eget","magna","fermentum","iaculis","eu","non","diam","phasellus","vestibulum","lorem","sed","risus","ultricies","tristique","nulla","aliquet","enim","tortor,","at","auctor","urna","nunc","id","cursus","metus","aliquam","eleifend","mi","in","nulla","posuere","sollicitudin","aliquam","ultrices","sagittis","orci,","a","scelerisque","purus","semper","eget","duis","at","tellus","at","urna","condimentum","mattis","pellentesque","id","nibh","tortor,","id","aliquet","lectus","proin","nibh","nisl,","condimentum","id","venenatis","a,","condimentum","vitae","sapien","pellentesque","habitant","morbi","tristique","senectus","et","netus","et","malesuada","fames","ac","turpis","egestas","sed","tempus,","urna","et","pharetra","pharetra,","massa","massa","ultricies","mi,","quis","hendrerit","dolor","magna","eget","est","lorem","ipsum","dolor","sit","amet,","consectetur","adipiscing","elit","pellentesque","habitant","morbi","tristique","senectus","et","netus","et","malesuada","fames","ac","turpis","egestas","integer","eget","aliquet","nibh","praesent","tristique","magna","sit","amet","purus","gravida","quis","blandit","turpis","cursus","in","hac","habitasse","platea","dictumst","quisque","sagittis,","purus","sit","amet","volutpat","consequat,","mauris","nunc","congue","nisi,","vitae","suscipit","tellus","mauris","a","diam","maecenas","sed","enim","ut","sem","viverra","aliquet","eget","sit","amet","tellus","cras","adipiscing","enim","eu","turpis","egestas","pretium","aenean","pharetra,","magna","ac","placerat","vestibulum,","lectus","mauris","ultrices","eros,","in","cursus","turpis","massa","tincidunt","dui","ut","ornare","lectus","sit","amet","est","placerat","in","egestas","erat","imperdiet","sed","euismod","nisi","porta","lorem","mollis","aliquam","ut","porttitor","leo","a","diam","sollicitudin","tempor","id","eu","nisl","nunc","mi","ipsum,","faucibus","vitae","aliquet","nec,","ullamcorper","sit","amet","risus","nullam","eget","felis","eget","nunc","lobortis","mattis","aliquam","faucibus","purus","in","massa","tempor","nec","feugiat","nisl","pretium","fusce","id","velit","ut","tortor","pretium","viverra","suspendisse","potenti","nullam","ac","tortor","vitae","purus","faucibus","ornare","suspendisse","sed","nisi","lacus,","sed","viverra","tellus","in","hac","habitasse","platea","dictumst","vestibulum","rhoncus","est","pellentesque","elit","ullamcorper","dignissim","cras","tincidunt","lobortis","feugiat","vivamus","at","augue","eget","arcu","dictum","varius","duis","at","consectetur","lorem","donec","massa","sapien,","faucibus","et","molestie","ac,","feugiat","sed","lectus","vestibulum","mattis","ullamcorper","velit","sed","ullamcorper","morbi","tincidunt","ornare","massa,","eget","egestas","purus","viverra","accumsan","in","nisl","nisi,","scelerisque","eu","ultrices","vitae,","auctor","eu","augue","ut","lectus","arcu,","bibendum","at","varius","vel,","pharetra","vel","turpis","nunc","eget","lorem","dolor,","sed","viverra","ipsum","nunc","aliquet","bibendum","enim,","facilisis","gravida","neque","convallis","a","cras","semper","auctor","neque,","vitae","tempus","quam","pellentesque","nec","nam","aliquam","sem","et","tortor","consequat","id","porta","nibh","venenatis","cras","sed","felis","eget","velit","aliquet","sagittis","id","consectetur","purus","ut","faucibus","pulvinar","elementum","integer","enim","neque,","volutpat","ac","tincidunt","vitae,","semper","quis","lectus","nulla","at","volutpat","diam","ut","venenatis","tellus","in","metus","vulputate","eu","scelerisque","felis","imperdiet","proin","fermentum","leo","vel","orci","porta","non","pulvinar","neque","laoreet","suspendisse","interdum","consectetur","libero,","id","faucibus","nisl","tincidunt","eget","nullam","non","nisi","est,","sit","amet","facilisis","magna","etiam","tempor,","orci","eu","lobortis","elementum,","nibh","tellus","molestie","nunc,","non","blandit","massa","enim","nec","dui","nunc","mattis","enim","ut","tellus","elementum","sagittis","vitae","et","leo","duis","ut","diam","quam","nulla","porttitor","massa","id","neque","aliquam","vestibulum","morbi","blandit","cursus","risus,","at","ultrices","mi","tempus","imperdiet","nulla","malesuada","pellentesque","elit","eget","gravida","cum","sociis","natoque","penatibus","et","magnis","dis","parturient","montes,","nascetur","ridiculus","mus","mauris","vitae","ultricies","leo","integer","malesuada","nunc","vel","risus","commodo","viverra","maecenas","accumsan,","lacus","vel","facilisis","volutpat,","est","velit","egestas","dui,","id","ornare","arcu","odio","ut","sem","nulla","pharetra","diam","sit","amet","nisl","suscipit","adipiscing","bibendum","est","ultricies","integer","quis","auctor","elit","sed","vulputate","mi","sit","amet","mauris","commodo","quis","imperdiet","massa","tincidunt","nunc","pulvinar","sapien","et","ligula","ullamcorper","malesuada","proin","libero","nunc,","consequat","interdum","varius","sit","amet,","mattis","vulputate","enim","nulla","aliquet","porttitor","lacus,","luctus","accumsan","tortor","posuere","ac","ut","consequat","semper","viverra","nam","libero","justo,","laoreet","sit","amet","cursus","sit","amet,","dictum","sit","amet","justo","donec","enim","diam,","vulputate","ut","pharetra","sit","amet,","aliquam","id","diam","maecenas","ultricies","mi","eget","mauris","pharetra","et","ultrices","neque","ornare","aenean","euismod","elementum","nisi,","quis","eleifend","quam","adipiscing","vitae","proin","sagittis,","nisl","rhoncus","mattis","rhoncus,","urna","neque","viverra","justo,","nec","ultrices","dui","sapien","eget","mi","proin","sed","libero","enim,","sed","faucibus","turpis","in","eu","mi","bibendum","neque","egestas","congue","quisque","egestas","diam","in","arcu","cursus","euismod","quis","viverra","nibh","cras","pulvinar","mattis","nunc,","sed","blandit","libero","volutpat","sed","cras","ornare","arcu","dui","vivamus","arcu","felis,","bibendum","ut","tristique","et,","egestas","quis","ipsum","suspendisse","ultrices","gravida","dictum","fusce","ut","placerat","orci","nulla","pellentesque","dignissim","enim,","sit","amet","venenatis","urna","cursus","eget","nunc","scelerisque","viverra","mauris,","in","aliquam","sem","fringilla","ut","morbi","tincidunt","augue","interdum","velit","euismod","in","pellentesque","massa","placerat","duis","ultricies","lacus","sed","turpis","tincidunt","id","aliquet","risus","feugiat","in","ante","metus,","dictum","at","tempor","commodo,","ullamcorper","a","lacus","vestibulum","sed","arcu","non","odio","euismod","lacinia","at","quis","risus","sed","vulputate","odio","ut","enim","blandit","volutpat","maecenas","volutpat","blandit","aliquam","etiam","erat","velit,","scelerisque","in","dictum","non,","consectetur","a","erat","nam","at","lectus","urna","duis","convallis","convallis","tellus,","id","interdum","velit","laoreet","id","donec","ultrices","tincidunt","arcu,","non","sodales","neque","sodales","ut","etiam","sit","amet","nisl","purus,","in","mollis","nunc","sed","id","semper","risus","in","hendrerit","gravida","rutrum","quisque","non","tellus","orci,","ac","auctor","augue","mauris","augue","neque,","gravida","in","fermentum","et,","sollicitudin","ac","orci","phasellus","egestas","tellus","rutrum","tellus","pellentesque","eu","tincidunt","tortor","aliquam","nulla","facilisi","cras","fermentum,","odio","eu","feugiat","pretium,","nibh","ipsum","consequat","nisl,","vel","pretium","lectus","quam","id","leo","in","vitae","turpis","massa","sed","elementum","tempus","egestas","sed","sed","risus","pretium","quam","vulputate","dignissim","suspendisse","in","est","ante","in","nibh","mauris,","cursus","mattis","molestie","a,","iaculis","at","erat","pellentesque","adipiscing","commodo","elit,","at","imperdiet","dui","accumsan","sit","amet","nulla","facilisi","morbi","tempus","iaculis","urna,","id","volutpat","lacus","laoreet","non","curabitur","gravida","arcu","ac","tortor","dignissim","convallis","aenean","et","tortor","at","risus","viverra","adipiscing","at","in","tellus","integer","feugiat","scelerisque","varius","morbi","enim","nunc,","faucibus","a","pellentesque","sit","amet,","porttitor","eget","dolor","morbi","non","arcu","risus,","quis","varius","quam","quisque","id","diam","vel","quam","elementum","pulvinar","etiam","non","quam","lacus","suspendisse","faucibus","interdum","posuere","lorem","ipsum","dolor","sit","amet,","consectetur","adipiscing","elit","duis","tristique","sollicitudin","nibh","sit","amet","commodo","nulla","facilisi","nullam","vehicula","ipsum","a","arcu","cursus","vitae","congue","mauris","rhoncus","aenean","vel","elit","scelerisque","mauris","pellentesque","pulvinar","pellentesque","habitant","morbi","tristique","senectus","et","netus","et","malesuada","fames","ac","turpis","egestas","maecenas","pharetra","convallis","posuere","morbi","leo","urna,","molestie","at","elementum","eu,","facilisis","sed","odio","morbi","quis","commodo","odio","aenean","sed","adipiscing","diam","donec","adipiscing","tristique","risus","nec","feugiat","in","fermentum","posuere","urna","nec","tincidunt","praesent","semper","feugiat","nibh","sed","pulvinar","proin","gravida","hendrerit","lectus","a","molestie"],Lorem.prototype.randomInt=function(e,t){return Math.floor(Math.random()*(t-e+1))+e},Lorem.prototype.createText=function(e,t){switch(t){case Lorem.TYPE.PARAGRAPH:for(var n=new Array,i=0;e>i;i++){var r=this.randomInt(10,20),a=this.createText(r,Lorem.TYPE.SENTENCE);n.push("<p>"+a+"</p>")}return n.join("\n");case Lorem.TYPE.SENTENCE:for(var o=new Array,i=0;e>i;i++){var s=this.randomInt(5,10),u=this.createText(s,Lorem.TYPE.WORD).split(" ");u[0]=u[0].substr(0,1).toUpperCase()+u[0].substr(1);var c=u.join(" ");o.push(c)}return(o.join(". ")+".").replace(/(\.\,|\,\.)/g,".");case Lorem.TYPE.WORD:var l=this.randomInt(0,Lorem.WORDS.length-e-1);return Lorem.WORDS.slice(l,l+e).join(" ").replace(/\.|\,/g,"")}},Lorem.prototype.createLorem=function(e){var t,n=new Array;if(/\d+-\d+[psw]/.test(this.query)){var i=this.query.replace(/[a-z]/,"").split("-");t=Math.floor(Math.random()*parseInt(i[1]))+parseInt(i[0])}else t=parseInt(this.query);if(/\d+p/.test(this.query))var r=Lorem.TYPE.PARAGRAPH;else if(/\d+s/.test(this.query))var r=Lorem.TYPE.SENTENCE;else if(/\d+w/.test(this.query))var r=Lorem.TYPE.WORD;if(n.push(this.createText(t,r)),n=n.join(" "),e)if(this.type==Lorem.TEXT)e.innerHTML+=n;else if(this.type==Lorem.IMAGE){var a="",o=this.query.split(" ");"gray"==o[0]&&(a+="/g",o[0]=""),e.getAttribute("width")&&(a+="/"+e.getAttribute("width")),e.getAttribute("height")&&(a+="/"+e.getAttribute("height")),a+="/"+o.join(" ").replace(/(^\s+|\s+$)/,""),e.src="http://lorempixum.com"+a.replace(/\/\//,"/")}return null==e?n:void 0},"undefined"!=typeof jQuery&&!function(e){e.fn.lorem=function(){e(this).each(function(){var t=new Lorem;t.type=e(this).is("img")?Lorem.IMAGE:Lorem.TEXT,t.query=e(this).data("lorem"),t.createLorem(this)})},e(document).ready(function(){e("[data-lorem]").lorem()})}(jQuery)}(),define("lorem",function(e){return function(){var t;return t||e.Lorem}}(this)),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define("jsyaml",[],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.jsyaml=e()}}(function(){return function e(t,n,i){function r(o,s){if(!n[o]){if(!t[o]){var u="function"==typeof require&&require;if(!s&&u)return u(o,!0);if(a)return a(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return r(n?n:e)},l,l.exports,e,t,n,i)}return n[o].exports}for(var a="function"==typeof require&&require,o=0;o<i.length;o++)r(i[o]);return r}({1:[function(e,t){"use strict";function n(e){return function(){throw new Error("Function "+e+" is deprecated and cannot be used.")}}var i=e("./js-yaml/loader"),r=e("./js-yaml/dumper");t.exports.Type=e("./js-yaml/type"),t.exports.Schema=e("./js-yaml/schema"),t.exports.FAILSAFE_SCHEMA=e("./js-yaml/schema/failsafe"),t.exports.JSON_SCHEMA=e("./js-yaml/schema/json"),t.exports.CORE_SCHEMA=e("./js-yaml/schema/core"),t.exports.DEFAULT_SAFE_SCHEMA=e("./js-yaml/schema/default_safe"),t.exports.DEFAULT_FULL_SCHEMA=e("./js-yaml/schema/default_full"),t.exports.load=i.load,t.exports.loadAll=i.loadAll,t.exports.safeLoad=i.safeLoad,t.exports.safeLoadAll=i.safeLoadAll,t.exports.dump=r.dump,t.exports.safeDump=r.safeDump,t.exports.YAMLException=e("./js-yaml/exception"),t.exports.MINIMAL_SCHEMA=e("./js-yaml/schema/failsafe"),t.exports.SAFE_SCHEMA=e("./js-yaml/schema/default_safe"),t.exports.DEFAULT_SCHEMA=e("./js-yaml/schema/default_full"),t.exports.scan=n("scan"),t.exports.parse=n("parse"),t.exports.compose=n("compose"),t.exports.addConstructor=n("addConstructor")},{"./js-yaml/dumper":3,"./js-yaml/exception":4,"./js-yaml/loader":5,"./js-yaml/schema":7,"./js-yaml/schema/core":8,"./js-yaml/schema/default_full":9,"./js-yaml/schema/default_safe":10,"./js-yaml/schema/failsafe":11,"./js-yaml/schema/json":12,"./js-yaml/type":13}],2:[function(e,t){"use strict";function n(e){return"undefined"==typeof e||null===e}function i(e){return"object"==typeof e&&null!==e}function r(e){return Array.isArray(e)?e:n(e)?[]:[e]}function a(e,t){var n,i,r,a;if(t)for(a=Object.keys(t),n=0,i=a.length;i>n;n+=1)r=a[n],e[r]=t[r];return e}function o(e,t){var n,i="";for(n=0;t>n;n+=1)i+=e;return i}function s(e){return 0===e&&Number.NEGATIVE_INFINITY===1/e}t.exports.isNothing=n,t.exports.isObject=i,t.exports.toArray=r,t.exports.repeat=o,t.exports.isNegativeZero=s,t.exports.extend=a},{}],3:[function(e,t){"use strict";function n(e,t){var n,i,r,a,o,s,u;if(null===t)return{};for(n={},i=Object.keys(t),r=0,a=i.length;a>r;r+=1)o=i[r],s=String(t[o]),"!!"===o.slice(0,2)&&(o="tag:yaml.org,2002:"+o.slice(2)),u=e.compiledTypeMap[o],u&&_.call(u.styleAliases,s)&&(s=u.styleAliases[s]),n[o]=s;return n}function i(e){var t,n,i;if(t=e.toString(16).toUpperCase(),255>=e)n="x",i=2;else if(65535>=e)n="u",i=4;else{if(!(4294967295>=e))throw new q("code point within a string may not be greater than 0xFFFFFFFF");n="U",i=8}return"\\"+n+k.repeat("0",i-t.length)+t}function r(e){this.schema=e.schema||C,this.indent=Math.max(1,e.indent||2),this.skipInvalid=e.skipInvalid||!1,this.flowLevel=k.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=n(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function a(e,t){for(var n,i=k.repeat(" ",t),r=0,a=-1,o="",s=e.length;s>r;)a=e.indexOf("\n",r),-1===a?(n=e.slice(r),r=s):(n=e.slice(r,a+1),r=a+1),n.length&&"\n"!==n&&(o+=i),o+=n;return o}function o(e,t){return"\n"+k.repeat(" ",e.indent*t)}function s(e,t){var n,i,r;for(n=0,i=e.implicitTypes.length;i>n;n+=1)if(r=e.implicitTypes[n],r.resolve(t))return!0;return!1}function u(e){this.source=e,this.result="",this.checkpoint=0}function c(e,t,n){var i,r,o,c,p,m,h,g,y,v,b,x,A,w,j,k,q,C,E,S,_;if(0===t.length)return void(e.dump="''");if(-1!==et.indexOf(t))return void(e.dump="'"+t+"'");for(i=!0,r=t.length?t.charCodeAt(0):0,o=T===r||T===t.charCodeAt(t.length-1),(B===r||W===r||z===r||X===r)&&(i=!1),o?(i=!1,c=!1,p=!1):(c=!0,p=!0),m=!0,h=new u(t),g=!1,y=0,v=0,b=e.indent*n,x=80,40>b?x-=b:x=40,w=0;w<t.length;w++){if(A=t.charCodeAt(w),i){if(d(A))continue;i=!1}m&&A===Y&&(m=!1),j=Q[A],k=f(A),(j||k)&&(A!==O&&A!==F&&A!==Y?(c=!1,p=!1):A===O&&(g=!0,m=!1,w>0&&(q=t.charCodeAt(w-1),q===T&&(p=!1,c=!1)),c&&(C=w-y,y=w,C>v&&(v=C))),A!==F&&(m=!1),h.takeUpTo(w),h.escapeChar())}if(i&&s(e,t)&&(i=!1),E="",(c||p)&&(S=0,t.charCodeAt(t.length-1)===O&&(S+=1,t.charCodeAt(t.length-2)===O&&(S+=1)),0===S?E="-":2===S&&(E="+")),p&&x>v&&(c=!1),g||(p=!1),i)e.dump=t;else if(m)e.dump="'"+t+"'";else if(c)_=l(t,x),e.dump=">"+E+"\n"+a(_,b);else if(p)E||(t=t.replace(/\n$/,"")),e.dump="|"+E+"\n"+a(t,b);else{if(!h)throw new Error("Failed to dump scalar value");h.finish(),e.dump='"'+h.result+'"'}}function l(e,t){var n,i="",r=0,a=e.length,o=/\n+$/.exec(e);for(o&&(a=o.index+1);a>r;)n=e.indexOf("\n",r),n>a||-1===n?(i&&(i+="\n\n"),i+=p(e.slice(r,a),t),r=a):(i&&(i+="\n\n"),i+=p(e.slice(r,n),t),r=n+1);return o&&"\n"!==o[0]&&(i+=o[0]),i}function p(e,t){if(""===e)return e;for(var n,i,r,a=/[^\s] [^\s]/g,o="",s=0,u=0,c=a.exec(e);c;)n=c.index,n-u>t&&(i=s!==u?s:n,o&&(o+="\n"),r=e.slice(u,i),o+=r,u=i+1),s=n+1,c=a.exec(e);return o&&(o+="\n"),o+=u!==s&&e.length-u>t?e.slice(u,s)+"\n"+e.slice(s+1):e.slice(u)}function d(e){return I!==e&&O!==e&&M!==e&&R!==e&&G!==e&&K!==e&&J!==e&&Z!==e&&N!==e&&P!==e&&U!==e&&L!==e&&V!==e&&H!==e&&Y!==e&&F!==e&&D!==e&&$!==e&&!Q[e]&&!f(e)}function f(e){return!(e>=32&&126>=e||133===e||e>=160&&55295>=e||e>=57344&&65533>=e||e>=65536&&1114111>=e)}function m(e,t,n){var i,r,a="",o=e.tag;for(i=0,r=n.length;r>i;i+=1)b(e,t,n[i],!1,!1)&&(0!==i&&(a+=", "),a+=e.dump);e.tag=o,e.dump="["+a+"]"}function h(e,t,n,i){var r,a,s="",u=e.tag;for(r=0,a=n.length;a>r;r+=1)b(e,t+1,n[r],!0,!0)&&(i&&0===r||(s+=o(e,t)),s+="- "+e.dump);e.tag=u,e.dump=s||"[]"}function g(e,t,n){var i,r,a,o,s,u="",c=e.tag,l=Object.keys(n);for(i=0,r=l.length;r>i;i+=1)s="",0!==i&&(s+=", "),a=l[i],o=n[a],b(e,t,a,!1,!1)&&(e.dump.length>1024&&(s+="? "),s+=e.dump+": ",b(e,t,o,!1,!1)&&(s+=e.dump,u+=s));e.tag=c,e.dump="{"+u+"}"}function y(e,t,n,i){var r,a,s,u,c,l,p="",d=e.tag,f=Object.keys(n);if(e.sortKeys===!0)f.sort();else if("function"==typeof e.sortKeys)f.sort(e.sortKeys);else if(e.sortKeys)throw new q("sortKeys must be a boolean or a function");for(r=0,a=f.length;a>r;r+=1)l="",i&&0===r||(l+=o(e,t)),s=f[r],u=n[s],b(e,t+1,s,!0,!0)&&(c=null!==e.tag&&"?"!==e.tag||e.dump&&e.dump.length>1024,c&&(l+=e.dump&&O===e.dump.charCodeAt(0)?"?":"? "),l+=e.dump,c&&(l+=o(e,t)),b(e,t+1,u,!0,c)&&(l+=e.dump&&O===e.dump.charCodeAt(0)?":":": ",l+=e.dump,p+=l));e.tag=d,e.dump=p||"{}"}function v(e,t,n){var i,r,a,o,s,u;for(r=n?e.explicitTypes:e.implicitTypes,a=0,o=r.length;o>a;a+=1)if(s=r[a],(s.instanceOf||s.predicate)&&(!s.instanceOf||"object"==typeof t&&t instanceof s.instanceOf)&&(!s.predicate||s.predicate(t))){if(e.tag=n?s.tag:"?",s.represent){if(u=e.styleMap[s.tag]||s.defaultStyle,"[object Function]"===S.call(s.represent))i=s.represent(t,u);else{if(!_.call(s.represent,u))throw new q("!<"+s.tag+'> tag resolver accepts not "'+u+'" style');i=s.represent[u](t,u)}e.dump=i}return!0}return!1}function b(e,t,n,i,r){e.tag=null,e.dump=n,v(e,n,!1)||v(e,n,!0);var a=S.call(e.dump);i&&(i=0>e.flowLevel||e.flowLevel>t),(null!==e.tag&&"?"!==e.tag||2!==e.indent&&t>0)&&(r=!1);var o,s,u="[object Object]"===a||"[object Array]"===a;if(u&&(o=e.duplicates.indexOf(n),s=-1!==o),s&&e.usedDuplicates[o])e.dump="*ref_"+o;else{if(u&&s&&!e.usedDuplicates[o]&&(e.usedDuplicates[o]=!0),"[object Object]"===a)i&&0!==Object.keys(e.dump).length?(y(e,t,e.dump,r),s&&(e.dump="&ref_"+o+(0===t?"\n":"")+e.dump)):(g(e,t,e.dump),s&&(e.dump="&ref_"+o+" "+e.dump));else if("[object Array]"===a)i&&0!==e.dump.length?(h(e,t,e.dump,r),s&&(e.dump="&ref_"+o+(0===t?"\n":"")+e.dump)):(m(e,t,e.dump),s&&(e.dump="&ref_"+o+" "+e.dump));else{if("[object String]"!==a){if(e.skipInvalid)return!1;throw new q("unacceptable kind of an object to dump "+a)}"?"!==e.tag&&c(e,e.dump,t)}null!==e.tag&&"?"!==e.tag&&(e.dump="!<"+e.tag+"> "+e.dump)}return!0}function x(e,t){var n,i,r=[],a=[];for(A(e,r,a),n=0,i=a.length;i>n;n+=1)t.duplicates.push(r[a[n]]);t.usedDuplicates=new Array(i)}function A(e,t,n){{var i,r,a;S.call(e)}if(null!==e&&"object"==typeof e)if(r=t.indexOf(e),-1!==r)-1===n.indexOf(r)&&n.push(r);else if(t.push(e),Array.isArray(e))for(r=0,a=e.length;a>r;r+=1)A(e[r],t,n);else for(i=Object.keys(e),r=0,a=i.length;a>r;r+=1)A(e[i[r]],t,n)}function w(e,t){t=t||{};var n=new r(t);return x(e,n),b(n,0,e,!0,!0)?n.dump+"\n":""}function j(e,t){return w(e,k.extend({schema:E},t))}var k=e("./common"),q=e("./exception"),C=e("./schema/default_full"),E=e("./schema/default_safe"),S=Object.prototype.toString,_=Object.prototype.hasOwnProperty,I=9,O=10,M=13,T=32,L=33,F=34,N=35,D=37,P=38,Y=39,U=42,R=44,B=45,$=58,H=62,W=63,z=64,G=91,K=93,X=96,J=123,V=124,Z=125,Q={};Q[0]="\\0",Q[7]="\\a",Q[8]="\\b",Q[9]="\\t",Q[10]="\\n",Q[11]="\\v",Q[12]="\\f",Q[13]="\\r",Q[27]="\\e",Q[34]='\\"',Q[92]="\\\\",Q[133]="\\N",Q[160]="\\_",Q[8232]="\\L",Q[8233]="\\P";var et=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"];u.prototype.takeUpTo=function(e){var t;if(e<this.checkpoint)throw t=new Error("position should be > checkpoint"),t.position=e,t.checkpoint=this.checkpoint,t;return this.result+=this.source.slice(this.checkpoint,e),this.checkpoint=e,this},u.prototype.escapeChar=function(){var e,t;return e=this.source.charCodeAt(this.checkpoint),t=Q[e]||i(e),this.result+=t,this.checkpoint+=1,this},u.prototype.finish=function(){this.source.length>this.checkpoint&&this.takeUpTo(this.source.length)},t.exports.dump=w,t.exports.safeDump=j},{"./common":2,"./exception":4,"./schema/default_full":9,"./schema/default_safe":10}],4:[function(e,t){"use strict";function n(e,t){this.name="YAMLException",this.reason=e,this.mark=t,this.message=this.toString(!1)}n.prototype.toString=function(e){var t;return t="JS-YAML: "+(this.reason||"(unknown reason)"),!e&&this.mark&&(t+=" "+this.mark.toString()),t},t.exports=n},{}],5:[function(e,t){"use strict";function n(e){return 10===e||13===e}function i(e){return 9===e||32===e}function r(e){return 9===e||32===e||10===e||13===e}function a(e){return 44===e||91===e||93===e||123===e||125===e}function o(e){var t;return e>=48&&57>=e?e-48:(t=32|e,t>=97&&102>=t?t-97+10:-1)}function s(e){return 120===e?2:117===e?4:85===e?8:0}function u(e){return e>=48&&57>=e?e-48:-1}function c(e){return 48===e?"\x00":97===e?"":98===e?"\b":116===e?"	":9===e?"	":110===e?"\n":118===e?"":102===e?"\f":114===e?"\r":101===e?"":32===e?" ":34===e?'"':47===e?"/":92===e?"\\":78===e?"\x85":95===e?"\xa0":76===e?"\u2028":80===e?"\u2029":""}function l(e){return 65535>=e?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}function p(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||$,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.documents=[]}function d(e,t){return new U(t,new R(e.filename,e.input,e.position,e.line,e.position-e.lineStart))}function f(e,t){throw d(e,t)}function m(e,t){var n=d(e,t);if(!e.onWarning)throw n;e.onWarning.call(null,n)}function h(e,t,n,i){var r,a,o,s;if(n>t){if(s=e.input.slice(t,n),i)for(r=0,a=s.length;a>r;r+=1)o=s.charCodeAt(r),9===o||o>=32&&1114111>=o||f(e,"expected valid JSON character");e.result+=s}}function g(e,t,n){var i,r,a,o;for(Y.isObject(n)||f(e,"cannot merge mappings; the provided source object is unacceptable"),i=Object.keys(n),a=0,o=i.length;o>a;a+=1)r=i[a],H.call(t,r)||(t[r]=n[r])}function y(e,t,n,i,r){var a,o;if(i=String(i),null===t&&(t={}),"tag:yaml.org,2002:merge"===n)if(Array.isArray(r))for(a=0,o=r.length;o>a;a+=1)g(e,t,r[a]);else g(e,t,r);else t[i]=r;return t}function v(e){var t;t=e.input.charCodeAt(e.position),10===t?e.position++:13===t?(e.position++,10===e.input.charCodeAt(e.position)&&e.position++):f(e,"a line break is expected"),e.line+=1,e.lineStart=e.position}function b(e,t,r){for(var a=0,o=e.input.charCodeAt(e.position);0!==o;){for(;i(o);)o=e.input.charCodeAt(++e.position);if(t&&35===o)do o=e.input.charCodeAt(++e.position);while(10!==o&&13!==o&&0!==o);if(!n(o))break;for(v(e),o=e.input.charCodeAt(e.position),a++,e.lineIndent=0;32===o;)e.lineIndent++,o=e.input.charCodeAt(++e.position)}return-1!==r&&0!==a&&e.lineIndent<r&&m(e,"deficient indentation"),a}function x(e){var t,n=e.position;return t=e.input.charCodeAt(n),45!==t&&46!==t||e.input.charCodeAt(n+1)!==t||e.input.charCodeAt(n+2)!==t||(n+=3,t=e.input.charCodeAt(n),0!==t&&!r(t))?!1:!0}function A(e,t){1===t?e.result+=" ":t>1&&(e.result+=Y.repeat("\n",t-1))}function w(e,t,o){var s,u,c,l,p,d,f,m,g,y=e.kind,v=e.result;if(g=e.input.charCodeAt(e.position),r(g)||a(g)||35===g||38===g||42===g||33===g||124===g||62===g||39===g||34===g||37===g||64===g||96===g)return!1;if((63===g||45===g)&&(u=e.input.charCodeAt(e.position+1),r(u)||o&&a(u)))return!1;for(e.kind="scalar",e.result="",c=l=e.position,p=!1;0!==g;){if(58===g){if(u=e.input.charCodeAt(e.position+1),r(u)||o&&a(u))break}else if(35===g){if(s=e.input.charCodeAt(e.position-1),r(s))break}else{if(e.position===e.lineStart&&x(e)||o&&a(g))break;if(n(g)){if(d=e.line,f=e.lineStart,m=e.lineIndent,b(e,!1,-1),e.lineIndent>=t){p=!0,g=e.input.charCodeAt(e.position);continue}e.position=l,e.line=d,e.lineStart=f,e.lineIndent=m;break}}p&&(h(e,c,l,!1),A(e,e.line-d),c=l=e.position,p=!1),i(g)||(l=e.position+1),g=e.input.charCodeAt(++e.position)}return h(e,c,l,!1),e.result?!0:(e.kind=y,e.result=v,!1)}function j(e,t){var i,r,a;if(i=e.input.charCodeAt(e.position),39!==i)return!1;for(e.kind="scalar",e.result="",e.position++,r=a=e.position;0!==(i=e.input.charCodeAt(e.position));)if(39===i){if(h(e,r,e.position,!0),i=e.input.charCodeAt(++e.position),39!==i)return!0;r=a=e.position,e.position++}else n(i)?(h(e,r,a,!0),A(e,b(e,!1,t)),r=a=e.position):e.position===e.lineStart&&x(e)?f(e,"unexpected end of the document within a single quoted scalar"):(e.position++,a=e.position);f(e,"unexpected end of the stream within a single quoted scalar")}function k(e,t){var i,r,a,u,c,p;if(p=e.input.charCodeAt(e.position),34!==p)return!1;for(e.kind="scalar",e.result="",e.position++,i=r=e.position;0!==(p=e.input.charCodeAt(e.position));){if(34===p)return h(e,i,e.position,!0),e.position++,!0;if(92===p){if(h(e,i,e.position,!0),p=e.input.charCodeAt(++e.position),n(p))b(e,!1,t);else if(256>p&&it[p])e.result+=rt[p],e.position++;else if((c=s(p))>0){for(a=c,u=0;a>0;a--)p=e.input.charCodeAt(++e.position),(c=o(p))>=0?u=(u<<4)+c:f(e,"expected hexadecimal character");e.result+=l(u),e.position++}else f(e,"unknown escape sequence");i=r=e.position}else n(p)?(h(e,i,r,!0),A(e,b(e,!1,t)),i=r=e.position):e.position===e.lineStart&&x(e)?f(e,"unexpected end of the document within a double quoted scalar"):(e.position++,r=e.position)}f(e,"unexpected end of the stream within a double quoted scalar")}function q(e,t){var n,i,a,o,s,u,c,l,p,d,m,h=!0,g=e.tag,v=e.anchor;if(m=e.input.charCodeAt(e.position),91===m)o=93,c=!1,i=[];else{if(123!==m)return!1;o=125,c=!0,i={}}for(null!==e.anchor&&(e.anchorMap[e.anchor]=i),m=e.input.charCodeAt(++e.position);0!==m;){if(b(e,!0,t),m=e.input.charCodeAt(e.position),m===o)return e.position++,e.tag=g,e.anchor=v,e.kind=c?"mapping":"sequence",e.result=i,!0;h||f(e,"missed comma between flow collection entries"),p=l=d=null,s=u=!1,63===m&&(a=e.input.charCodeAt(e.position+1),r(a)&&(s=u=!0,e.position++,b(e,!0,t))),n=e.line,M(e,t,W,!1,!0),p=e.tag,l=e.result,b(e,!0,t),m=e.input.charCodeAt(e.position),!u&&e.line!==n||58!==m||(s=!0,m=e.input.charCodeAt(++e.position),b(e,!0,t),M(e,t,W,!1,!0),d=e.result),c?y(e,i,p,l,d):i.push(s?y(e,null,p,l,d):l),b(e,!0,t),m=e.input.charCodeAt(e.position),44===m?(h=!0,m=e.input.charCodeAt(++e.position)):h=!1}f(e,"unexpected end of the stream within a flow collection")}function C(e,t){var r,a,o,s,c=X,l=!1,p=t,d=0,m=!1;if(s=e.input.charCodeAt(e.position),124===s)a=!1;else{if(62!==s)return!1;a=!0}for(e.kind="scalar",e.result="";0!==s;)if(s=e.input.charCodeAt(++e.position),43===s||45===s)X===c?c=43===s?V:J:f(e,"repeat of a chomping mode identifier");else{if(!((o=u(s))>=0))break;0===o?f(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):l?f(e,"repeat of an indentation width identifier"):(p=t+o-1,l=!0)}if(i(s)){do s=e.input.charCodeAt(++e.position);while(i(s));if(35===s)do s=e.input.charCodeAt(++e.position);while(!n(s)&&0!==s)}for(;0!==s;){for(v(e),e.lineIndent=0,s=e.input.charCodeAt(e.position);(!l||e.lineIndent<p)&&32===s;)e.lineIndent++,s=e.input.charCodeAt(++e.position);if(!l&&e.lineIndent>p&&(p=e.lineIndent),n(s))d++;else{if(e.lineIndent<p){c===V?e.result+=Y.repeat("\n",d):c===X&&l&&(e.result+="\n");break}for(a?i(s)?(m=!0,e.result+=Y.repeat("\n",d+1)):m?(m=!1,e.result+=Y.repeat("\n",d+1)):0===d?l&&(e.result+=" "):e.result+=Y.repeat("\n",d):l&&(e.result+=Y.repeat("\n",d+1)),l=!0,d=0,r=e.position;!n(s)&&0!==s;)s=e.input.charCodeAt(++e.position);h(e,r,e.position,!1)}}return!0}function E(e,t){var n,i,a,o=e.tag,s=e.anchor,u=[],c=!1;for(null!==e.anchor&&(e.anchorMap[e.anchor]=u),a=e.input.charCodeAt(e.position);0!==a&&45===a&&(i=e.input.charCodeAt(e.position+1),r(i));)if(c=!0,e.position++,b(e,!0,-1)&&e.lineIndent<=t)u.push(null),a=e.input.charCodeAt(e.position);else if(n=e.line,M(e,t,G,!1,!0),u.push(e.result),b(e,!0,-1),a=e.input.charCodeAt(e.position),(e.line===n||e.lineIndent>t)&&0!==a)f(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break;return c?(e.tag=o,e.anchor=s,e.kind="sequence",e.result=u,!0):!1}function S(e,t,n){var a,o,s,u,c=e.tag,l=e.anchor,p={},d=null,m=null,h=null,g=!1,v=!1;for(null!==e.anchor&&(e.anchorMap[e.anchor]=p),u=e.input.charCodeAt(e.position);0!==u;){if(a=e.input.charCodeAt(e.position+1),s=e.line,63!==u&&58!==u||!r(a)){if(!M(e,n,z,!1,!0))break;if(e.line===s){for(u=e.input.charCodeAt(e.position);i(u);)u=e.input.charCodeAt(++e.position);if(58===u)u=e.input.charCodeAt(++e.position),r(u)||f(e,"a whitespace character is expected after the key-value separator within a block mapping"),g&&(y(e,p,d,m,null),d=m=h=null),v=!0,g=!1,o=!1,d=e.tag,m=e.result;else{if(!v)return e.tag=c,e.anchor=l,!0;f(e,"can not read an implicit mapping pair; a colon is missed")}}else{if(!v)return e.tag=c,e.anchor=l,!0;f(e,"can not read a block mapping entry; a multiline key may not be an implicit key")}}else 63===u?(g&&(y(e,p,d,m,null),d=m=h=null),v=!0,g=!0,o=!0):g?(g=!1,o=!0):f(e,"incomplete explicit mapping pair; a key node is missed"),e.position+=1,u=a;if((e.line===s||e.lineIndent>t)&&(M(e,t,K,!0,o)&&(g?m=e.result:h=e.result),g||(y(e,p,d,m,h),d=m=h=null),b(e,!0,-1),u=e.input.charCodeAt(e.position)),e.lineIndent>t&&0!==u)f(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return g&&y(e,p,d,m,null),v&&(e.tag=c,e.anchor=l,e.kind="mapping",e.result=p),v}function _(e){var t,n,i,a,o=!1,s=!1;if(a=e.input.charCodeAt(e.position),33!==a)return!1;if(null!==e.tag&&f(e,"duplication of a tag property"),a=e.input.charCodeAt(++e.position),60===a?(o=!0,a=e.input.charCodeAt(++e.position)):33===a?(s=!0,n="!!",a=e.input.charCodeAt(++e.position)):n="!",t=e.position,o){do a=e.input.charCodeAt(++e.position);while(0!==a&&62!==a);e.position<e.length?(i=e.input.slice(t,e.position),a=e.input.charCodeAt(++e.position)):f(e,"unexpected end of the stream within a verbatim tag")}else{for(;0!==a&&!r(a);)33===a&&(s?f(e,"tag suffix cannot contain exclamation marks"):(n=e.input.slice(t-1,e.position+1),tt.test(n)||f(e,"named tag handle cannot contain such characters"),s=!0,t=e.position+1)),a=e.input.charCodeAt(++e.position);i=e.input.slice(t,e.position),et.test(i)&&f(e,"tag suffix cannot contain flow indicator characters")}return i&&!nt.test(i)&&f(e,"tag name cannot contain such characters: "+i),o?e.tag=i:H.call(e.tagMap,n)?e.tag=e.tagMap[n]+i:"!"===n?e.tag="!"+i:"!!"===n?e.tag="tag:yaml.org,2002:"+i:f(e,'undeclared tag handle "'+n+'"'),!0}function I(e){var t,n;if(n=e.input.charCodeAt(e.position),38!==n)return!1;for(null!==e.anchor&&f(e,"duplication of an anchor property"),n=e.input.charCodeAt(++e.position),t=e.position;0!==n&&!r(n)&&!a(n);)n=e.input.charCodeAt(++e.position);
return e.position===t&&f(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}function O(e){{var t,n,i;e.length,e.input}if(i=e.input.charCodeAt(e.position),42!==i)return!1;for(i=e.input.charCodeAt(++e.position),t=e.position;0!==i&&!r(i)&&!a(i);)i=e.input.charCodeAt(++e.position);return e.position===t&&f(e,"name of an alias node must contain at least one character"),n=e.input.slice(t,e.position),e.anchorMap.hasOwnProperty(n)||f(e,'unidentified alias "'+n+'"'),e.result=e.anchorMap[n],b(e,!0,-1),!0}function M(e,t,n,i,r){var a,o,s,u,c,l,p,d,h=1,g=!1,y=!1;if(e.tag=null,e.anchor=null,e.kind=null,e.result=null,a=o=s=K===n||G===n,i&&b(e,!0,-1)&&(g=!0,e.lineIndent>t?h=1:e.lineIndent===t?h=0:e.lineIndent<t&&(h=-1)),1===h)for(;_(e)||I(e);)b(e,!0,-1)?(g=!0,s=a,e.lineIndent>t?h=1:e.lineIndent===t?h=0:e.lineIndent<t&&(h=-1)):s=!1;if(s&&(s=g||r),(1===h||K===n)&&(p=W===n||z===n?t:t+1,d=e.position-e.lineStart,1===h?s&&(E(e,d)||S(e,d,p))||q(e,p)?y=!0:(o&&C(e,p)||j(e,p)||k(e,p)?y=!0:O(e)?(y=!0,(null!==e.tag||null!==e.anchor)&&f(e,"alias node should not have any properties")):w(e,p,W===n)&&(y=!0,null===e.tag&&(e.tag="?")),null!==e.anchor&&(e.anchorMap[e.anchor]=e.result)):0===h&&(y=s&&E(e,d))),null!==e.tag&&"!"!==e.tag)if("?"===e.tag){for(u=0,c=e.implicitTypes.length;c>u;u+=1)if(l=e.implicitTypes[u],l.resolve(e.result)){e.result=l.construct(e.result),e.tag=l.tag,null!==e.anchor&&(e.anchorMap[e.anchor]=e.result);break}}else H.call(e.typeMap,e.tag)?(l=e.typeMap[e.tag],null!==e.result&&l.kind!==e.kind&&f(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+l.kind+'", not "'+e.kind+'"'),l.resolve(e.result)?(e.result=l.construct(e.result),null!==e.anchor&&(e.anchorMap[e.anchor]=e.result)):f(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")):m(e,"unknown tag !<"+e.tag+">");return null!==e.tag||null!==e.anchor||y}function T(e){var t,a,o,s,u=e.position,c=!1;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap={},e.anchorMap={};0!==(s=e.input.charCodeAt(e.position))&&(b(e,!0,-1),s=e.input.charCodeAt(e.position),!(e.lineIndent>0||37!==s));){for(c=!0,s=e.input.charCodeAt(++e.position),t=e.position;0!==s&&!r(s);)s=e.input.charCodeAt(++e.position);for(a=e.input.slice(t,e.position),o=[],a.length<1&&f(e,"directive name must not be less than one character in length");0!==s;){for(;i(s);)s=e.input.charCodeAt(++e.position);if(35===s){do s=e.input.charCodeAt(++e.position);while(0!==s&&!n(s));break}if(n(s))break;for(t=e.position;0!==s&&!r(s);)s=e.input.charCodeAt(++e.position);o.push(e.input.slice(t,e.position))}0!==s&&v(e),H.call(ot,a)?ot[a](e,a,o):m(e,'unknown document directive "'+a+'"')}return b(e,!0,-1),0===e.lineIndent&&45===e.input.charCodeAt(e.position)&&45===e.input.charCodeAt(e.position+1)&&45===e.input.charCodeAt(e.position+2)?(e.position+=3,b(e,!0,-1)):c&&f(e,"directives end mark is expected"),M(e,e.lineIndent-1,K,!1,!0),b(e,!0,-1),e.checkLineBreaks&&Q.test(e.input.slice(u,e.position))&&m(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&x(e)?void(46===e.input.charCodeAt(e.position)&&(e.position+=3,b(e,!0,-1))):void(e.position<e.length-1&&f(e,"end of the stream or a document separator is expected"))}function L(e,t){e=String(e),t=t||{},0!==e.length&&(10!==e.charCodeAt(e.length-1)&&13!==e.charCodeAt(e.length-1)&&(e+="\n"),65279===e.charCodeAt(0)&&(e=e.slice(1)));var n=new p(e,t);for(Z.test(n.input)&&f(n,"the stream contains non-printable characters"),n.input+="\x00";32===n.input.charCodeAt(n.position);)n.lineIndent+=1,n.position+=1;for(;n.position<n.length-1;)T(n);return n.documents}function F(e,t,n){var i,r,a=L(e,n);for(i=0,r=a.length;r>i;i+=1)t(a[i])}function N(e,t){var n=L(e,t);if(0===n.length)return void 0;if(1===n.length)return n[0];throw new U("expected a single document in the stream, but found more")}function D(e,t,n){F(e,t,Y.extend({schema:B},n))}function P(e,t){return N(e,Y.extend({schema:B},t))}for(var Y=e("./common"),U=e("./exception"),R=e("./mark"),B=e("./schema/default_safe"),$=e("./schema/default_full"),H=Object.prototype.hasOwnProperty,W=1,z=2,G=3,K=4,X=1,J=2,V=3,Z=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,Q=/[\x85\u2028\u2029]/,et=/[,\[\]\{\}]/,tt=/^(?:!|!!|![a-z\-]+!)$/i,nt=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i,it=new Array(256),rt=new Array(256),at=0;256>at;at++)it[at]=c(at)?1:0,rt[at]=c(at);var ot={YAML:function(e,t,n){var i,r,a;null!==e.version&&f(e,"duplication of %YAML directive"),1!==n.length&&f(e,"YAML directive accepts exactly one argument"),i=/^([0-9]+)\.([0-9]+)$/.exec(n[0]),null===i&&f(e,"ill-formed argument of the YAML directive"),r=parseInt(i[1],10),a=parseInt(i[2],10),1!==r&&f(e,"unacceptable YAML version of the document"),e.version=n[0],e.checkLineBreaks=2>a,1!==a&&2!==a&&m(e,"unsupported YAML version of the document")},TAG:function(e,t,n){var i,r;2!==n.length&&f(e,"TAG directive accepts exactly two arguments"),i=n[0],r=n[1],tt.test(i)||f(e,"ill-formed tag handle (first argument) of the TAG directive"),H.call(e.tagMap,i)&&f(e,'there is a previously declared suffix for "'+i+'" tag handle'),nt.test(r)||f(e,"ill-formed tag prefix (second argument) of the TAG directive"),e.tagMap[i]=r}};t.exports.loadAll=F,t.exports.load=N,t.exports.safeLoadAll=D,t.exports.safeLoad=P},{"./common":2,"./exception":4,"./mark":6,"./schema/default_full":9,"./schema/default_safe":10}],6:[function(e,t){"use strict";function n(e,t,n,i,r){this.name=e,this.buffer=t,this.position=n,this.line=i,this.column=r}var i=e("./common");n.prototype.getSnippet=function(e,t){var n,r,a,o,s;if(!this.buffer)return null;for(e=e||4,t=t||75,n="",r=this.position;r>0&&-1==="\x00\r\n\x85\u2028\u2029".indexOf(this.buffer.charAt(r-1));)if(r-=1,this.position-r>t/2-1){n=" ... ",r+=5;break}for(a="",o=this.position;o<this.buffer.length&&-1==="\x00\r\n\x85\u2028\u2029".indexOf(this.buffer.charAt(o));)if(o+=1,o-this.position>t/2-1){a=" ... ",o-=5;break}return s=this.buffer.slice(r,o),i.repeat(" ",e)+n+s+a+"\n"+i.repeat(" ",e+this.position-r+n.length)+"^"},n.prototype.toString=function(e){var t,n="";return this.name&&(n+='in "'+this.name+'" '),n+="at line "+(this.line+1)+", column "+(this.column+1),e||(t=this.getSnippet(),t&&(n+=":\n"+t)),n},t.exports=n},{"./common":2}],7:[function(e,t){"use strict";function n(e,t,i){var r=[];return e.include.forEach(function(e){i=n(e,t,i)}),e[t].forEach(function(e){i.forEach(function(t,n){t.tag===e.tag&&r.push(n)}),i.push(e)}),i.filter(function(e,t){return-1===r.indexOf(t)})}function i(){function e(e){i[e.tag]=e}var t,n,i={};for(t=0,n=arguments.length;n>t;t+=1)arguments[t].forEach(e);return i}function r(e){this.include=e.include||[],this.implicit=e.implicit||[],this.explicit=e.explicit||[],this.implicit.forEach(function(e){if(e.loadKind&&"scalar"!==e.loadKind)throw new o("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.")}),this.compiledImplicit=n(this,"implicit",[]),this.compiledExplicit=n(this,"explicit",[]),this.compiledTypeMap=i(this.compiledImplicit,this.compiledExplicit)}var a=e("./common"),o=e("./exception"),s=e("./type");r.DEFAULT=null,r.create=function(){var e,t;switch(arguments.length){case 1:e=r.DEFAULT,t=arguments[0];break;case 2:e=arguments[0],t=arguments[1];break;default:throw new o("Wrong number of arguments for Schema.create function")}if(e=a.toArray(e),t=a.toArray(t),!e.every(function(e){return e instanceof r}))throw new o("Specified list of super schemas (or a single Schema object) contains a non-Schema object.");if(!t.every(function(e){return e instanceof s}))throw new o("Specified list of YAML types (or a single Type object) contains a non-Type object.");return new r({include:e,explicit:t})},t.exports=r},{"./common":2,"./exception":4,"./type":13}],8:[function(e,t){var n=e("../schema");t.exports=new n({include:[e("./json")]})},{"../schema":7,"./json":12}],9:[function(e,t){var n=e("../schema");t.exports=n.DEFAULT=new n({include:[e("./default_safe")],explicit:[e("../type/js/undefined"),e("../type/js/regexp"),e("../type/js/function")]})},{"../schema":7,"../type/js/function":18,"../type/js/regexp":19,"../type/js/undefined":20,"./default_safe":10}],10:[function(e,t){var n=e("../schema");t.exports=new n({include:[e("./core")],implicit:[e("../type/timestamp"),e("../type/merge")],explicit:[e("../type/binary"),e("../type/omap"),e("../type/pairs"),e("../type/set")]})},{"../schema":7,"../type/binary":14,"../type/merge":22,"../type/omap":24,"../type/pairs":25,"../type/set":27,"../type/timestamp":29,"./core":8}],11:[function(e,t){var n=e("../schema");t.exports=new n({explicit:[e("../type/str"),e("../type/seq"),e("../type/map")]})},{"../schema":7,"../type/map":21,"../type/seq":26,"../type/str":28}],12:[function(e,t){var n=e("../schema");t.exports=new n({include:[e("./failsafe")],implicit:[e("../type/null"),e("../type/bool"),e("../type/int"),e("../type/float")]})},{"../schema":7,"../type/bool":15,"../type/float":16,"../type/int":17,"../type/null":23,"./failsafe":11}],13:[function(e,t){"use strict";function n(e){var t={};return null!==e&&Object.keys(e).forEach(function(n){e[n].forEach(function(e){t[String(e)]=n})}),t}function i(e,t){if(t=t||{},Object.keys(t).forEach(function(t){if(-1===a.indexOf(t))throw new r('Unknown option "'+t+'" is met in definition of "'+e+'" YAML type.')}),this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(e){return e},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.defaultStyle=t.defaultStyle||null,this.styleAliases=n(t.styleAliases||null),-1===o.indexOf(this.kind))throw new r('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}var r=e("./exception"),a=["kind","resolve","construct","instanceOf","predicate","represent","defaultStyle","styleAliases"],o=["scalar","sequence","mapping"];t.exports=i},{"./exception":4}],14:[function(e,t){"use strict";function n(e){if(null===e)return!1;var t,n,i=0,r=e.length,a=u;for(n=0;r>n;n++)if(t=a.indexOf(e.charAt(n)),!(t>64)){if(0>t)return!1;i+=6}return i%8===0}function i(e){var t,n,i=e.replace(/[\r\n=]/g,""),r=i.length,a=u,s=0,c=[];for(t=0;r>t;t++)t%4===0&&t&&(c.push(s>>16&255),c.push(s>>8&255),c.push(255&s)),s=s<<6|a.indexOf(i.charAt(t));return n=r%4*6,0===n?(c.push(s>>16&255),c.push(s>>8&255),c.push(255&s)):18===n?(c.push(s>>10&255),c.push(s>>2&255)):12===n&&c.push(s>>4&255),o?new o(c):c}function r(e){var t,n,i="",r=0,a=e.length,o=u;for(t=0;a>t;t++)t%3===0&&t&&(i+=o[r>>18&63],i+=o[r>>12&63],i+=o[r>>6&63],i+=o[63&r]),r=(r<<8)+e[t];return n=a%3,0===n?(i+=o[r>>18&63],i+=o[r>>12&63],i+=o[r>>6&63],i+=o[63&r]):2===n?(i+=o[r>>10&63],i+=o[r>>4&63],i+=o[r<<2&63],i+=o[64]):1===n&&(i+=o[r>>2&63],i+=o[r<<4&63],i+=o[64],i+=o[64]),i}function a(e){return o&&o.isBuffer(e)}var o=e("buffer").Buffer,s=e("../type"),u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\n\r";t.exports=new s("tag:yaml.org,2002:binary",{kind:"scalar",resolve:n,construct:i,predicate:a,represent:r})},{"../type":13,buffer:30}],15:[function(e,t){"use strict";function n(e){if(null===e)return!1;var t=e.length;return 4===t&&("true"===e||"True"===e||"TRUE"===e)||5===t&&("false"===e||"False"===e||"FALSE"===e)}function i(e){return"true"===e||"True"===e||"TRUE"===e}function r(e){return"[object Boolean]"===Object.prototype.toString.call(e)}var a=e("../type");t.exports=new a("tag:yaml.org,2002:bool",{kind:"scalar",resolve:n,construct:i,predicate:r,represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"})},{"../type":13}],16:[function(e,t){"use strict";function n(e){if(null===e)return!1;return u.test(e)?!0:!1}function i(e){var t,n,i,r;return t=e.replace(/_/g,"").toLowerCase(),n="-"===t[0]?-1:1,r=[],0<="+-".indexOf(t[0])&&(t=t.slice(1)),".inf"===t?1===n?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:".nan"===t?0/0:0<=t.indexOf(":")?(t.split(":").forEach(function(e){r.unshift(parseFloat(e,10))}),t=0,i=1,r.forEach(function(e){t+=e*i,i*=60}),n*t):n*parseFloat(t,10)}function r(e,t){if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(o.isNegativeZero(e))return"-0.0";return e.toString(10)}function a(e){return"[object Number]"===Object.prototype.toString.call(e)&&(0!==e%1||o.isNegativeZero(e))}var o=e("../common"),s=e("../type"),u=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)\\.[0-9_]*(?:[eE][-+][0-9]+)?|\\.[0-9_]+(?:[eE][-+][0-9]+)?|[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\\.[0-9_]*|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");t.exports=new s("tag:yaml.org,2002:float",{kind:"scalar",resolve:n,construct:i,predicate:a,represent:r,defaultStyle:"lowercase"})},{"../common":2,"../type":13}],17:[function(e,t){"use strict";function n(e){return e>=48&&57>=e||e>=65&&70>=e||e>=97&&102>=e}function i(e){return e>=48&&55>=e}function r(e){return e>=48&&57>=e}function a(e){if(null===e)return!1;var t,a=e.length,o=0,s=!1;if(!a)return!1;if(t=e[o],("-"===t||"+"===t)&&(t=e[++o]),"0"===t){if(o+1===a)return!0;if(t=e[++o],"b"===t){for(o++;a>o;o++)if(t=e[o],"_"!==t){if("0"!==t&&"1"!==t)return!1;s=!0}return s}if("x"===t){for(o++;a>o;o++)if(t=e[o],"_"!==t){if(!n(e.charCodeAt(o)))return!1;s=!0}return s}for(;a>o;o++)if(t=e[o],"_"!==t){if(!i(e.charCodeAt(o)))return!1;s=!0}return s}for(;a>o;o++)if(t=e[o],"_"!==t){if(":"===t)break;if(!r(e.charCodeAt(o)))return!1;s=!0}return s?":"!==t?!0:/^(:[0-5]?[0-9])+$/.test(e.slice(o)):!1}function o(e){var t,n,i=e,r=1,a=[];return-1!==i.indexOf("_")&&(i=i.replace(/_/g,"")),t=i[0],("-"===t||"+"===t)&&("-"===t&&(r=-1),i=i.slice(1),t=i[0]),"0"===i?0:"0"===t?"b"===i[1]?r*parseInt(i.slice(2),2):"x"===i[1]?r*parseInt(i,16):r*parseInt(i,8):-1!==i.indexOf(":")?(i.split(":").forEach(function(e){a.unshift(parseInt(e,10))}),i=0,n=1,a.forEach(function(e){i+=e*n,n*=60}),r*i):r*parseInt(i,10)}function s(e){return"[object Number]"===Object.prototype.toString.call(e)&&0===e%1&&!u.isNegativeZero(e)}var u=e("../common"),c=e("../type");t.exports=new c("tag:yaml.org,2002:int",{kind:"scalar",resolve:a,construct:o,predicate:s,represent:{binary:function(e){return"0b"+e.toString(2)},octal:function(e){return"0"+e.toString(8)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return"0x"+e.toString(16).toUpperCase()}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}})},{"../common":2,"../type":13}],18:[function(e,t){"use strict";function n(e){if(null===e)return!1;try{var t="("+e+")",n=o.parse(t,{range:!0});return"Program"!==n.type||1!==n.body.length||"ExpressionStatement"!==n.body[0].type||"FunctionExpression"!==n.body[0].expression.type?!1:!0}catch(i){return!1}}function i(e){var t,n="("+e+")",i=o.parse(n,{range:!0}),r=[];if("Program"!==i.type||1!==i.body.length||"ExpressionStatement"!==i.body[0].type||"FunctionExpression"!==i.body[0].expression.type)throw new Error("Failed to resolve function");return i.body[0].expression.params.forEach(function(e){r.push(e.name)}),t=i.body[0].expression.body.range,new Function(r,n.slice(t[0]+1,t[1]-1))}function r(e){return e.toString()}function a(e){return"[object Function]"===Object.prototype.toString.call(e)}var o;try{o=e("esprima")}catch(s){"undefined"!=typeof window&&(o=window.esprima)}var u=e("../../type");t.exports=new u("tag:yaml.org,2002:js/function",{kind:"scalar",resolve:n,construct:i,predicate:a,represent:r})},{"../../type":13,esprima:"esprima"}],19:[function(e,t){"use strict";function n(e){if(null===e)return!1;if(0===e.length)return!1;var t=e,n=/\/([gim]*)$/.exec(e),i="";if("/"===t[0]){if(n&&(i=n[1]),i.length>3)return!1;if("/"!==t[t.length-i.length-1])return!1;t=t.slice(1,t.length-i.length-1)}try{{new RegExp(t,i)}return!0}catch(r){return!1}}function i(e){var t=e,n=/\/([gim]*)$/.exec(e),i="";return"/"===t[0]&&(n&&(i=n[1]),t=t.slice(1,t.length-i.length-1)),new RegExp(t,i)}function r(e){var t="/"+e.source+"/";return e.global&&(t+="g"),e.multiline&&(t+="m"),e.ignoreCase&&(t+="i"),t}function a(e){return"[object RegExp]"===Object.prototype.toString.call(e)}var o=e("../../type");t.exports=new o("tag:yaml.org,2002:js/regexp",{kind:"scalar",resolve:n,construct:i,predicate:a,represent:r})},{"../../type":13}],20:[function(e,t){"use strict";function n(){return!0}function i(){return void 0}function r(){return""}function a(e){return"undefined"==typeof e}var o=e("../../type");t.exports=new o("tag:yaml.org,2002:js/undefined",{kind:"scalar",resolve:n,construct:i,predicate:a,represent:r})},{"../../type":13}],21:[function(e,t){"use strict";var n=e("../type");t.exports=new n("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return null!==e?e:{}}})},{"../type":13}],22:[function(e,t){"use strict";function n(e){return"<<"===e||null===e}var i=e("../type");t.exports=new i("tag:yaml.org,2002:merge",{kind:"scalar",resolve:n})},{"../type":13}],23:[function(e,t){"use strict";function n(e){if(null===e)return!0;var t=e.length;return 1===t&&"~"===e||4===t&&("null"===e||"Null"===e||"NULL"===e)}function i(){return null}function r(e){return null===e}var a=e("../type");t.exports=new a("tag:yaml.org,2002:null",{kind:"scalar",resolve:n,construct:i,predicate:r,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"}},defaultStyle:"lowercase"})},{"../type":13}],24:[function(e,t){"use strict";function n(e){if(null===e)return!0;var t,n,i,r,s,u=[],c=e;for(t=0,n=c.length;n>t;t+=1){if(i=c[t],s=!1,"[object Object]"!==o.call(i))return!1;for(r in i)if(a.call(i,r)){if(s)return!1;s=!0}if(!s)return!1;if(-1!==u.indexOf(r))return!1;u.push(r)}return!0}function i(e){return null!==e?e:[]}var r=e("../type"),a=Object.prototype.hasOwnProperty,o=Object.prototype.toString;t.exports=new r("tag:yaml.org,2002:omap",{kind:"sequence",resolve:n,construct:i})},{"../type":13}],25:[function(e,t){"use strict";function n(e){if(null===e)return!0;var t,n,i,r,o,s=e;for(o=new Array(s.length),t=0,n=s.length;n>t;t+=1){if(i=s[t],"[object Object]"!==a.call(i))return!1;if(r=Object.keys(i),1!==r.length)return!1;o[t]=[r[0],i[r[0]]]}return!0}function i(e){if(null===e)return[];var t,n,i,r,a,o=e;for(a=new Array(o.length),t=0,n=o.length;n>t;t+=1)i=o[t],r=Object.keys(i),a[t]=[r[0],i[r[0]]];return a}var r=e("../type"),a=Object.prototype.toString;t.exports=new r("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:n,construct:i})},{"../type":13}],26:[function(e,t){"use strict";var n=e("../type");t.exports=new n("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return null!==e?e:[]}})},{"../type":13}],27:[function(e,t){"use strict";function n(e){if(null===e)return!0;var t,n=e;for(t in n)if(a.call(n,t)&&null!==n[t])return!1;return!0}function i(e){return null!==e?e:{}}var r=e("../type"),a=Object.prototype.hasOwnProperty;t.exports=new r("tag:yaml.org,2002:set",{kind:"mapping",resolve:n,construct:i})},{"../type":13}],28:[function(e,t){"use strict";var n=e("../type");t.exports=new n("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return null!==e?e:""}})},{"../type":13}],29:[function(e,t){"use strict";function n(e){if(null===e)return!1;var t;return t=o.exec(e),null===t?!1:!0}function i(e){var t,n,i,r,a,s,u,c,l,p,d=0,f=null;if(t=o.exec(e),null===t)throw new Error("Date resolve error");if(n=+t[1],i=+t[2]-1,r=+t[3],!t[4])return new Date(Date.UTC(n,i,r));if(a=+t[4],s=+t[5],u=+t[6],t[7]){for(d=t[7].slice(0,3);d.length<3;)d+="0";d=+d}return t[9]&&(c=+t[10],l=+(t[11]||0),f=6e4*(60*c+l),"-"===t[9]&&(f=-f)),p=new Date(Date.UTC(n,i,r,a,s,u,d)),f&&p.setTime(p.getTime()-f),p}function r(e){return e.toISOString()}var a=e("../type"),o=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?)?$");t.exports=new a("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:n,construct:i,instanceOf:Date,represent:r})},{"../type":13}],30:[function(){},{}],"/":[function(e,t){"use strict";var n=e("./lib/js-yaml.js");t.exports=n},{"./lib/js-yaml.js":1}]},{},[])("/")}),function(e){function t(){var e=arguments[0],n=t.cache;return n[e]&&n.hasOwnProperty(e)||(n[e]=t.parse(e)),t.format.call(null,n[e],arguments)}function n(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}function i(e,t){return Array(t+1).join(e)}var r={not_string:/[^s]/,number:/[diefg]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijosuxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[\+\-]/};t.format=function(e,a){var o,s,u,c,l,p,d,f=1,m=e.length,h="",g=[],y=!0,v="";for(s=0;m>s;s++)if(h=n(e[s]),"string"===h)g[g.length]=e[s];else if("array"===h){if(c=e[s],c[2])for(o=a[f],u=0;u<c[2].length;u++){if(!o.hasOwnProperty(c[2][u]))throw new Error(t("[sprintf] property '%s' does not exist",c[2][u]));o=o[c[2][u]]}else o=c[1]?a[c[1]]:a[f++];if("function"==n(o)&&(o=o()),r.not_string.test(c[8])&&r.not_json.test(c[8])&&"number"!=n(o)&&isNaN(o))throw new TypeError(t("[sprintf] expecting number but found %s",n(o)));switch(r.number.test(c[8])&&(y=o>=0),c[8]){case"b":o=o.toString(2);break;case"c":o=String.fromCharCode(o);break;case"d":case"i":o=parseInt(o,10);break;case"j":o=JSON.stringify(o,null,c[6]?parseInt(c[6]):0);break;case"e":o=c[7]?o.toExponential(c[7]):o.toExponential();break;case"f":o=c[7]?parseFloat(o).toFixed(c[7]):parseFloat(o);break;case"g":o=c[7]?parseFloat(o).toPrecision(c[7]):parseFloat(o);break;case"o":o=o.toString(8);break;case"s":o=(o=String(o))&&c[7]?o.substring(0,c[7]):o;break;case"u":o>>>=0;break;case"x":o=o.toString(16);break;case"X":o=o.toString(16).toUpperCase()}r.json.test(c[8])?g[g.length]=o:(!r.number.test(c[8])||y&&!c[3]?v="":(v=y?"+":"-",o=o.toString().replace(r.sign,"")),p=c[4]?"0"===c[4]?"0":c[4].charAt(1):" ",d=c[6]-(v+o).length,l=c[6]&&d>0?i(p,d):"",g[g.length]=c[5]?v+o+l:"0"===p?v+l+o:l+v+o)}return g.join("")},t.cache={},t.parse=function(e){for(var t=e,n=[],i=[],a=0;t;){if(null!==(n=r.text.exec(t)))i[i.length]=n[0];else if(null!==(n=r.modulo.exec(t)))i[i.length]="%";else{if(null===(n=r.placeholder.exec(t)))throw new SyntaxError("[sprintf] unexpected placeholder");if(n[2]){a|=1;var o=[],s=n[2],u=[];if(null===(u=r.key.exec(s)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(o[o.length]=u[1];""!==(s=s.substring(u[0].length));)if(null!==(u=r.key_access.exec(s)))o[o.length]=u[1];else{if(null===(u=r.index_access.exec(s)))throw new SyntaxError("[sprintf] failed to parse named argument key");o[o.length]=u[1]}n[2]=o}else a|=2;if(3===a)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");i[i.length]=n}t=t.substring(n[0].length)}return i};var a=function(e,n,i){return i=(n||[]).slice(0),i.splice(0,0,e),t.apply(null,i)};"undefined"!=typeof exports?(exports.sprintf=t,exports.vsprintf=a):(e.sprintf=t,e.vsprintf=a,"function"==typeof define&&define.amd&&define("sprintf-vendor",[],function(){return{sprintf:t,vsprintf:a}}))}("undefined"==typeof window?this:window),define("sprintf",["sprintf-vendor"],function(e){return e.sprintf}),function(e){"object"==typeof exports?module.exports=e(require("backbone")):"function"==typeof define&&define.amd?define("models/metadata/object",["backbone"],e):"undefined"!=typeof Backbone&&(window.MetadataObject=e(Backbone))}(function(e){var t=e.Model.extend({defaults:{string:"",original:""},to_s:function(){return this.attributes.string},raw:function(){return this.attributes.original},initialize:function(){}});return t}),function(e){"object"==typeof exports?module.exports=e(require("underscore"),require("backbone"),require("sprintf")):"function"==typeof define&&define.amd?define("models/metadata/author",["underscore","backbone","sprintf","models/metadata/object"],e):"undefined"!=typeof _&&"undefined"!=typeof Backbone&&"undefined"!=typeof sprintf&&"undefined"!=typeof MetadataObject&&(window.MetadataAuthor=e(_,Backbone,sprintf,MetadataObject))}(function(e,t,n,i){var r=i.extend({defaults:{orignal:""},initialize:function(e){e||(e=this.defaults.orignal),this.attributes.original=e},to_s:function(t){var i="";return"string"==typeof this.attributes.original?i=this.attributes.original:"object"==typeof this.attributes.original&&(this.attributes.original instanceof Array?(i=t?n("%s %s",this.attributes.original[0].given,this.attributes.original[0].family):n("%s, %s",author[0].family,author[0].given),this.attributes.original.length>1&&(this.attributes.original.length>2&&(i+=", "+e.range(1,this.attributes.original.length-1).map(function(e){n("%s %s",this.attributes.original[e].given,this.attributes.original[e].family)}).join(",")),i+=n(", and %s %s",e.last(this.attributes.original).given,e.last(this.attributes.original).family))):i="family"in author&&"given"in this.attributes.original?t?n("%s %s",this.attributes.original.given,this.attributes.original.family):n("%s, %s",author.family,author.given):"Error Parsing Author"),i}});return r}),function(e){"object"==typeof exports?module.exports=e():"function"==typeof define&&define.amd?define("writedown",[],e):window.Writedown=e()}(function(){function e(e,t){for(var n=0;n<e.length;n++)t(e[n])}function t(t,n){var i=[];return e(n,function(e){i.push(t(e))}),i}function n(t,n,i){return e(i,function(e){n=t(n,e)}),n}function i(e){for(var t=0;"#"==e.charAt(0);)e=e.slice(1),t++;return{type:0==t?"p":"h"+t,content:r(e)}}function r(e){function i(t){var n=e.indexOf(t);return-1==n?e.length:n}function r(t){var n=e.indexOf(t,1);if(-1==n)throw new Error("Mangler et "+t+"-tegn");var i=e.slice(t.length,n);return e=e.slice(n+t.length),i}function a(){var r=n(Math.min,e.length,t(i,["_","*","**","`","[","]","![","(",")"])),a=e.slice(0,r);return e=e.slice(r),a}for(var d=[];""!=e;)if("*"==e.charAt(0)&&"*"!=e.charAt(1))d.push(p(c(r("*"))));else if("_"==e.charAt(0)&&"_"!=e.charAt(1))d.push(p(c(r("_"))));else if("*"==e.charAt(0)&&"*"==e.charAt(1))d.push(p(u(r("**"))));else if("`"==e.charAt(0))d.push(p(l(r("`"))));else if("["==e.charAt(0)){var f=r("]"),m=r(")");d.push(p(o(f,m)))}else if("!"==e.charAt(0)&&"["==e.charAt(1)){var h=r("]").slice(1),g=r(")");d.push(p(s(g,h)))}else d.push(a());return d.join("")}function a(e,t,n){return{name:e,attributes:n,content:t}}function o(e,t){return a("a",[e],{href:t})}function s(e,t){return a("img",[],{src:e,alt:t})}function u(e){return a("strong",[e],{})}function c(e){return a("em",[e],{})}function l(e){return a("pre",[a("code",[e])])}function p(t){function n(e){var t=[];if(e)for(var n in e)t.push(" "+n+'="'+e[n]+'"');return t.join("")}function i(t){"string"==typeof t?r.push(t):t.content&&0!=t.content.length?(r.push("<"+t.name+n(t.attributes)+">"),e(t.content,i),r.push("</"+t.name+">")):r.push("<"+t.name+n(t.attributes)+"/>")}var r=[];return i(t),r.join("")}function d(e){for(var n=t(i,e.split("\n\n")),r="",o=0;o<n.length;o++)r+=p(a(n[o].type,n[o].content))+"\n";return 1==n.length?r.replace(/^\<p\>/,"").replace(/\<\/p\>\s+/,""):r}return{html:function(e){return d(e)}}}),function(e){"object"==typeof exports?module.exports=e(require("backbone")):"function"==typeof define&&define.amd?define("models/metadata/title",["backbone","writedown","models/metadata/object"],e):"undefined"!=typeof Backbone&&"undefined"!=typeof MetadataObject&&(window.MetadataTitle=e(Backbone,Writedown,MetadataObject))}(function(e,t,n){var i=n.extend({initialize:function(e){e||(e=this.defaults.original),this.attributes.original=e,this.attributes.string="string"==typeof e?t.html(this.attributes.original):"Error Parsing Title"}});return i}),function(e){"object"==typeof exports?module.exports=e(require("underscore"),require("backbone"),require("citeproc"),require("citeproc/sys")):"function"==typeof define&&define.amd?define("models/metadata/citation",["underscore","backbone","citeproc/citeproc","citeproc/sys","citeproc/csl","writedown","models/metadata/object"],e):"undefined"!=typeof _&&"undefined"!=typeof Backbone&&"undefined"!=typeof CSL&&"undefined"!=typeof Sys&&"undefined"!=typeof MetadataObject&&(window.MetadataCitation=e(_,Backbone,CSL,Sys,citationstyles,Writedown,MetadataObject))}(function(e,t,n,i,r,a,o){var s=o.extend({defaults:{original:{}},initialize:function(t,o,s){var u,c,l,p;t||(t=this.defaults.citation),o||(o=""),s||(s=""),"object"==typeof t&&t instanceof Array&&(t=t[0]),this.attributes.original=t,this.attributes.original.author=o,this.attributes.original.title=s,p=e.clone(this.attributes.original,!0),p.id="citation","year"in this.attributes.original?(p.issued={},p.issued.year=this.attributes.original.year,"month"in this.attributes.original&&(p.issued.month=this.attributes.original.month,"day"in this.attributes.original&&(p.issued.day=this.attributes.original.day))):"date"in this.attributes.original&&(p.issued={"date-parts":e.map(this.attributes.original.date.split("-"),function(e){return parseInt(e)})}),p.title=a.html(p.title),"pages"in this.attributes.original&&(p.page=this.attributes.original.pages),c=new i({"default":{}},{citation:p}),u=new n.Engine(c,r["modern-language-association"]),u.setAbbreviations("default"),u.updateItems(["citation"]),l=u.makeBibliography(),this.attributes.string=l&&l.length&&l[1].length?l[1].join(""):"Error Processing Citation"}});return s}),function(e){"object"==typeof exports?module.exports=e(require("underscore"),require("backbone"),require("models/metadata/author"),require("models/metadata/title"),require("models/metadata/citation")):"function"==typeof define&&define.amd?define("models/metadata",["underscore","backbone","jsyaml","models/metadata/author","models/metadata/title","models/metadata/citation"],e):"undefined"!=typeof _&&"undefined"!=typeof Backbone&&"undefined"!=typeof jsyaml&&"undefined"!=typeof MetadataAuthor&&"undefined"!=typeof MetadataTitle&&"undefined"!=typeof MetadataCitation&&(window.Metadata=e(_,Backbone,jsyaml,MetadataAuthor,MetadataTitle,MetadataCitation))}(function(e,t,n,i,r,a){var o=t.Model.extend({defaults:{metadata:{}},initialize:function(e){e||(e={}),this.updateMetadata(e)},updateMetadata:function(e){"string"==typeof e&&(e=n.safeLoad(e)),"undefined"==typeof e&&(e={}),"title"in e&&(e.title=new r(e.title)),"author"in e&&(e.author=new i(e.author)),"citation"in e&&(e.citation=new a(e.citation,e.author.raw(),e.title.raw())),this.attributes.metadata=e},toYaml:function(){var t=this.get("metadata"),i={};return e.each(e.keys(t),function(e){var n=t[e];i[e]="undefined"!=typeof n.raw?n.raw():n}),n.safeDump(i)},to_s:function(){var e=this.get("metadata"),t="";return"citation"in e?t=e.citation.to_s().replace(/\&\#60\;(\/{0,1})(em|strong|b|i|img|blockquote|a)(.*?)\&\#62\;/g,"<$1$2$3>"):"title"in e&&"author"in e&&(t=e.title.to_s()+" by "+e.author.to_s()),t},get:function(e){var t=this.attributes[e];return e in this.attributes.metadata&&(t=this.attributes.metadata[e]),t}});return o}),define("models/document",["lodash","backbone","lorem","models/metadata"],function(e,t,n,i){var r=t.Model.extend({urlRoot:"/document",idAttribute:"id",defaults:{metadata:""},get:function(e){var t=this.attributes[e];if("metadata"==e&&("metadata_json"in this.attributes?t=this.attributes.metadata_json:(t=new i(t),this.attributes.metadata_json=t,this.trigger("change change:metadata"))),"text"==e){var r=new n;r.type=n.TEXT,r.query="4-6p",t=r.createLorem()}return t},set:function(e,n,r){var a;return null==e?this:("object"==typeof e?(a=e,r=n):(a={})[e]=n,"metadata"in a&&(n=a.metadata,"metadata_json"in this.attributes||(this.attributes.metadata_json=new i),this.attributes.metadata_json.updateMetadata(n),this.attributes.metadata=this.attributes.metadata_json.toYaml(),delete a.metadata,this.trigger("change change:metadata")),t.Model.prototype.set.call(this,a,r))},save:function(n,i){return i||(i={}),n||(n=e.clone(this.attributes)),delete n.metadata_json,i.data=JSON.stringify(n),t.Model.prototype.save.apply(this,n,i)},initialize:function(){}});return r}),define("components/document/document",["lodash","react","mixins/publish-component-mount/PublishComponentMountMixin"],function(e,t,n){var i=t.createClass({displayName:"Document",mixins:[n],propTypes:{model:function(t,n){return e.has(t,n)&&"function"==typeof t[n].get&&"function"==typeof t[n].set}},render:function(){return t.createElement("div",{className:"row"},t.createElement("section",{id:"currentDocument",className:"document col-md-10 center-block"},t.createElement("hgroup",{className:"document-metadata"},t.createElement("h1",{id:"document-title",dangerouslySetInnerHTML:{__html:this.props.model.get("metadata").get("title").to_s()}}),t.createElement("h2",{id:"document-author",dangerouslySetInnerHTML:{__html:"by "+this.props.model.get("metadata").get("author").to_s(!0)}})),t.createElement("div",{id:"document-content",dangerouslySetInnerHTML:{__html:this.props.model.get("text")}})))
}});return i}),define("routes/document",["models/document","components/document/document","react","postal"],function(e,t,n,i){var r=function(r,a){var o={},s={};s.route=i.channel("route"),s.component=i.channel("component"),"undefined"!=typeof r.documentList?(o=r.documentList.get(parseInt(a)),n.render(n.createElement(t,{model:o}),$("#app").get(0)),s.route.publish("ready")):(o=new e({id:a}),o.fetch().then(function(){n.render(n.createElement(t,{model:o}),$("#app").get(0)),s.route.publish("ready")}))};return r});